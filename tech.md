# 기술 노트

## 핵심 스택
- **HTML5 + 바닐라 JavaScript**: 이 경험은 `index.html`에 정의된 DOM 요소들과 `script.js`를 통한 동작 연결로 구성된 독립적인 정적 페이지로 제공됩니다. 프레임워크나 번들러는 사용되지 않습니다. 【F:index.html†L1-L57】【F:script.js†L1-L229】
- **CSS3 스타일링**: 하나의 스타일시트가 테마, 레이아웃, 애니메이션을 커스텀 속성, 그라디언트, 키프레임을 통해 제어합니다. 【F:style.css†L1-L237】

## 외부 라이브러리 및 에셋
- **D3.js v7**: 공식 CDN에서 직접 불러오며, force 지향 그래프 시뮬레이션, 드래그 상호작용, 셀렉션을 구현합니다. 【F:index.html†L6-L7】【F:script.js†L32-L138】
- **Google Fonts (Orbitron)**: SF 인터페이스 미학을 강화하기 위해 런타임에 불러옵니다. 【F:style.css†L1-L4】
- **비디오 에셋**: 각 노드는 `videos/` 경로 아래의 약 5초 길이 영상을 참조하며, 스크롤 기반 스크럽을 위해 키프레임 간격이 짧은 H.264 인코딩을 권장합니다.

## 패턴 및 관행
- **데이터 기반 렌더링**: 노드와 링크는 JavaScript 데이터 구조로 정의되고, D3의 `data` 조인 패턴을 통해 SVG 요소에 바인딩되어 DOM이 시뮬레이션 업데이트와 동기화됩니다. 【F:script.js†L32-L113】
- **Force 시뮬레이션 구성**: 여러 D3 force가 조합되어 방사형 중심 배치를 포함하며, 원형 레이더 내에서 레이아웃이 구조화되도록 합니다. 【F:script.js†L32-L45】【F:script.js†L193-L197】
- **스크롤 스로틀링**: 비디오 재생 제어는 `requestAnimationFrame`을 이용해 스크롤 이벤트를 스로틀링하여 브라우저 퍼포먼스를 유지합니다.
- **핫스팟 관리**: `hotspots` 메타데이터는 `timeRange` 검사로 가시성을 제어하며, 해당 시간대에만 DOM 오버레이를 생성해 클릭 상호작용을 연결합니다.
- **동적 그래프 확장**: 핫스팟 클릭 시 노드/링크를 배열에 푸시하고 `simulation.alpha(…)`를 재가열하여 새 콘텐츠가 네트워크에 자연스럽게 편입됩니다.
- **장식 노드 스타일링**: `decorative` 플래그가 지정된 항목은 `.node--decorative` 클래스로 렌더링되어 `pointer-events: none`, 낮은 `opacity`(기본 0.3), 라벨 비노출 처리가 적용됩니다. 필요 시 `appearance.opacity`로 투명도를 조정합니다.
- **점진적 HUD**: HUD 마크업 및 스타일링이 추가로 존재하나, 인터랙티브 게임 시스템이 활성화되기 전까지는 주석 처리되어 있으며, 향후 확장 가능성을 시사합니다. 【F:index.html†L28-L50】【F:style.css†L60-L123】

## 제작자 워크플로우
- **핫스팟 인스펙터**: 디버그 전용 모드로, 키보드 토글과 드래그 박스를 활용해 정규화 좌표 및 권장 `timeRange` JSON을 즉시 추출합니다. 콘솔 로그 및 클립보드 복사를 지원하여 데이터 입력을 가속합니다.

## 운영 고려사항
- **정적 호스팅**: 모든 에셋이 정적이므로, 어떤 정적 파일 서버나 CDN에서도 빌드 단계 없이 호스팅할 수 있습니다. 【F:index.html†L1-L57】【F:script.js†L1-L229】
- **뷰포트 기반 시뮬레이션**: force 레이아웃은 `getBoundingClientRect` 및 `window.innerWidth`와 같은 브라우저 API에 의존하므로, 브라우저 기반이며 렌더링 컨테이너 크기에 민감합니다. 【F:script.js†L165-L185】
- **스크롤 UX 고려**: 스크롤 스크럽이 어려운 환경을 대비해 키보드/버튼 대체 제어를 추후 검토해야 합니다.
- **모달 접근성**: 팝업은 UI 제어 및 키보드 Escape 핸들링으로 닫을 수 있지만, 아직 ARIA 속성이나 포커스 관리가 없어 향후 접근성 작업이 필요합니다. 【F:script.js†L141-L155】【F:index.html†L52-L55】
