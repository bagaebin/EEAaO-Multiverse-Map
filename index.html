<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Verse-jump Simulator</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="loadingOverlay" class="loading-overlay" role="alert" aria-live="assertive">
    <div class="loading-overlay__content">
      <div class="loading-overlay__spinner" aria-hidden="true"></div>
      <div class="loading-overlay__details">
        <p id="loadingStatus" class="loading-overlay__status">멀티버스 초기화 중... 0%</p>
        <div
          id="loadingProgress"
          class="loading-overlay__progress"
          role="progressbar"
          aria-valuemin="0"
          aria-valuemax="100"
          aria-valuenow="0"
        >
          <span id="loadingBar" class="loading-overlay__progress-bar"></span>
        </div>
      </div>
    </div>
  </div>
  <svg class="background-network" viewBox="0 0 800 800" preserveAspectRatio="xMidYMid meet"></svg>
  <div class="scene-container">
    <svg viewBox="0 0 800 800" preserveAspectRatio="xMidYMid meet">
      <defs>
        <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="6" result="coloredBlur" />
          <feMerge>
            <feMergeNode in="coloredBlur" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
      </defs>
    </svg>
    <div class="pulse-ring"></div>
    <div class="pulse-ring"></div>
    <div class="pulse-ring"></div>
  </div>

  <!-- 인터랙티브 게임 시스템 적용 전까지 주석 처리 -->
  <div class="hud">
    <div
      id="connectionBanner"
      class="hud__banner"
      role="status"
      aria-live="polite"
    >
      <div class="hud__banner-row">
        <span class="hud__banner-label">Jumping Pads</span>
        <span id="hudBannerShortcut" class="hud__banner-shortcut">Ctrl + Shift + L</span>
      </div>
      <div class="hud__banner-row">
        <span id="hudBannerProgress" class="hud__banner-progress">Linked 0 / 0 • Visited 0 / 0</span>
        <span id="hudBannerSuccess" class="hud__banner-success" aria-hidden="true">Success!</span>
      </div>
    </div>
  </div>

  <div class="popup" id="popup" aria-hidden="true">
    <span class="popup-close" role="button" aria-label="Close popup" onclick="hidePopup()">✕</span>
    <div id="mediaWrap" class="popup__media">
      <video id="popupVideo" playsinline muted preload="auto"></video>
      <img id="popupImg" src="" alt="node media" />
      <div id="popupFallback" class="popup__fallback" aria-live="polite"></div>
      <div id="hotspotLayer" aria-hidden="true"></div>
    </div>
  </div>
  <div class="celebration" id="celebration" aria-hidden="true">
    <div class="celebration__content" role="dialog" aria-modal="true" aria-labelledby="celebrationTitle">
      <button class="celebration__close" id="celebrationClose" type="button" aria-label="축하 영상 닫기">✕</button>
      <h2 id="celebrationTitle" class="celebration__title">All Universes Connected</h2>
      <video id="celebrationVideo" playsinline preload="auto"></video>
      <div class="celebration__actions">
        <button id="celebrationReplay" type="button">Retry</button>
        <button id="celebrationDismiss" type="button">Close</button>
      </div>
    </div>
  </div>
  <div id="scrollGhost" aria-hidden="true"></div>
  <aside
    id="interactionHint"
    class="hud__panel hud__panel--hint"
    role="status"
    aria-live="polite"
    aria-hidden="true"
  >
    <div class="hud__panel-title">Controls</div>
    <ul class="hud__hint-list nowrap">
      <li>
        <span class="hud__hint-action">Drag</span>
        <span class="hud__hint-desc">Move the map</span>
      </li>
      <li>
        <span class="hud__hint-action">Scroll</span>
        <span class="hud__hint-desc">Zoom in/out</span>
      </li>
      <li>
        <span class="hud__hint-action">Click a node</span>
        <span class="hud__hint-desc">Travel through the multiverse</span>
      </li>
      <li>
        <span class="hud__hint-action">Drag a node</span>
        <span class="hud__hint-desc">Shift the multiverse</span>
      </li>
    </ul>
  </aside>
  <script src="script.js"></script>
</body>
</html>
